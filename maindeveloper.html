<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>S.A.R.A. - Página Principal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>
<body class="bg-[#F2F2F2] font-sans">

  <!-- HEADER -->
  <header class="flex justify-between items-center px-6 md:px-12 py-6">
  
  </header>

  <main class="max-w-7xl mx-auto p-6">

    <h1 class="text-3xl font-bold mb-6 text-cyan-800">Bienvenido {{Auth::user()->name}}</h1>

    <!-- Accesos rápidos grandes -->
    <h2 class="text-2xl font-bold text-[#114D58] mb-6">Accesos rápidos</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-10">
      <a href="#usuarios" class="bg-[#114D58] text-white p-6 rounded-xl shadow-lg flex flex-col items-center hover:bg-[#39BFC0] transition">👥
        <h3 class="text-xl font-bold mt-2">Gestión de Usuarios</h3>
        <p class="text-sm mt-1 text-center">Roles, permisos y control de accesos.</p>
      </a>
      <a href="#" class="bg-[#39BFC0] text-white p-6 rounded-xl shadow-lg flex flex-col items-center hover:bg-[#114D58] transition">📚
        <h3 class="text-xl font-bold mt-2">Cursos y Directores</h3>
        <p class="text-sm mt-1 text-center">Asistencias y control por curso.</p>
      </a>
      <a href="#" class="bg-[#F2AC2A] text-white p-6 rounded-xl shadow-lg flex flex-col items-center hover:bg-[#114D58] transition">📊
        <h3 class="text-xl font-bold mt-2">Reportes</h3>
        <p class="text-sm mt-1 text-center">Estadísticas y gráficos en tiempo real.</p>
      </a>
    </div>

    <!-- Atajos pequeños -->
    <h3 class="text-lg font-semibold text-[#114D58] mb-4">Atajos rápidos</h3>
    <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-12">
      <a href="#" class="bg-white border border-[#114D58] text-[#114D58] rounded-lg py-4 px-2 flex flex-col items-center shadow hover:bg-[#114D58] hover:text-white transition">
        ⚙️
        <span class="mt-2 text-sm font-semibold">Configuración</span>
      </a>
      <a href="#" class="bg-white border border-[#39BFC0] text-[#39BFC0] rounded-lg py-4 px-2 flex flex-col items-center shadow hover:bg-[#39BFC0] hover:text-white transition">
        🧾
        <span class="mt-2 text-sm font-semibold">Historial</span>
      </a>
      <a href="#" class="bg-white border border-[#F2AC2A] text-[#F2AC2A] rounded-lg py-4 px-2 flex flex-col items-center shadow hover:bg-[#F2AC2A] hover:text-white transition">
        📅
        <span class="mt-2 text-sm font-semibold">Asistencias</span>
      </a>
      <a href="#" class="bg-white border border-[#F25041] text-[#F25041] rounded-lg py-4 px-2 flex flex-col items-center shadow hover:bg-[#F25041] hover:text-white transition">
        📢
        <span class="mt-2 text-sm font-semibold">Notificaciones</span>
      </a>
      <a href="#" class="bg-white border border-[#114D58] text-[#114D58] rounded-lg py-4 px-2 flex flex-col items-center shadow hover:bg-[#114D58] hover:text-white transition">
        📄
        <span class="mt-2 text-sm font-semibold">Documentación</span>
      </a>
      <a href="#" class="bg-white border border-[#39BFC0] text-[#39BFC0] rounded-lg py-4 px-2 flex flex-col items-center shadow hover:bg-[#39BFC0] hover:text-white transition">
        🛠️
        <span class="mt-2 text-sm font-semibold">Soporte</span>
      </a>
    </div>

    <!-- Resumen del día -->
    <h2 class="text-2xl font-bold text-[#114D58] mt-12 mb-6">Resumen del día</h2>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
      <div class="bg-[#39BFC0] text-white p-6 rounded-xl shadow-lg text-center"><p class="text-3xl font-bold">50</p><p>Refrigerios restantes</p></div>
      <div class="bg-[#F2AC2A] text-white p-6 rounded-xl shadow-lg text-center"><p class="text-3xl font-bold">126</p><p>Estudiantes restantes</p></div>
      <div class="bg-[#114D58] text-white p-6 rounded-xl shadow-lg text-center"><p class="text-3xl font-bold">12</p><p>Cursos activos</p></div>
      <div class="bg-[#F25041] text-white p-6 rounded-xl shadow-lg text-center"><p class="text-3xl font-bold">8</p><p>Alertas enviadas</p></div>
    </div>

    <!-- Últimos registros -->
    <div class="bg-white mt-12 p-6 rounded-xl shadow-lg">
      <h2 class="text-xl font-bold mb-4 text-[#114D58]">Últimos registros</h2>
      <table class="w-full text-left border-collapse">
        <thead>
          <tr class="bg-gray-200 text-black">
            <th class="p-2">Fecha</th>
            <th class="p-2">Estudiante</th>
            <th class="p-2">Acción</th>
            <th class="p-2">Estado</th>
          </tr>
        </thead>
        <tbody>
          <tr class="border-b">
            <td class="p-2">28/09/2025</td>
            <td class="p-2">Kristin Watson</td>
            <td class="p-2">Almuerzo</td>
            <td class="p-2 text-[#39BFC0] font-bold">Reclamado</td>
          </tr>
          <tr class="border-b">
            <td class="p-2">27/09/2025</td>
            <td class="p-2">Jenny Wilson</td>
            <td class="p-2">Refrigerio</td>
            <td class="p-2 text-[#F25041] font-bold">No asistió</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Gestión de usuarios -->
    <section id="usuarios" class="mt-16">
      <h2 class="text-2xl font-bold text-[#114D58] mb-6">Gestión de usuarios</h2>

      <!-- Tarjetas estadísticas -->
      <section class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
        <div class="bg-[#114D58] text-white rounded-xl shadow p-6 text-center"><p class="text-3xl font-bold">50</p><p>Estudiantes</p></div>
        <div class="bg-[#F25041] text-white rounded-xl shadow p-6 text-center"><p class="text-3xl font-bold">10</p><p>Inactivos</p></div>
        <div class="bg-[#F2AC2A] text-white rounded-xl shadow p-6 text-center"><p class="text-3xl font-bold">20</p><p>Docentes</p></div>
        <div class="bg-[#39BFC0] text-white rounded-xl shadow p-6 text-center"><p class="text-3xl font-bold">80</p><p>Total</p></div>
      </section>

      <!-- Gráfica ApexCharts -->
      <section class="bg-white rounded-xl shadow-md p-6 mb-8">
        <div class="flex justify-between">
          <div>
            <h5 class="leading-none text-3xl font-bold text-gray-900 pb-2">32.4k</h5>
            <p class="text-base font-normal text-gray-500">Usuarios esta semana</p>
          </div>
          <div class="flex items-center px-2.5 py-0.5 text-base font-semibold text-green-500">
            12%
            <svg class="w-3 h-3 ms-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M5 13V1m0 0L1 5m4-4 4 4"/>
            </svg>
          </div>
        </div>
        <div id="area-chart" class="mt-4"></div>
      </section>

      <!-- Botones de filtro -->
      <div class="flex flex-wrap gap-4 justify-center mb-6">
        <button onclick="filterTable('todos')" class="bg-[#114D58] text-white font-bold px-6 py-2 rounded-md shadow-md hover:-translate-y-2 transition">Todos</button>
        <button onclick="filterTable('Estudiante')" class="bg-[#F2AC2A] text-white font-bold px-6 py-2 rounded-md shadow-md hover:-translate-y-2 transition">Estudiantes</button>
        <button onclick="filterTable('Docente')" class="bg-[#39BFC0] text-white font-bold px-6 py-2 rounded-md shadow-md hover:-translate-y-2 transition">Docentes</button>
        <button onclick="filterTable('Inactivo')" class="bg-[#F25041] text-white font-bold px-6 py-2 rounded-md shadow-md hover:-translate-y-2 transition">Inactivos</button>
      </div>

      <!-- Tabla usuarios -->
      <div class="bg-white rounded-xl shadow p-6">
        <div class="flex justify-between mb-4">
          <h2 class="text-lg font-bold">Usuarios</h2>
          <button class="bg-[#114D58] hover:bg-teal-900 text-white px-4 py-2 rounded-lg">+ Añadir usuario</button>
        </div>
        <div class="relative overflow-x-auto">
          <table class="w-full text-sm text-left text-gray-600" id="tablaUsuarios">
            <thead class="text-xs uppercase bg-gray-100 text-gray-700">
              <tr>
                <th class="px-6 py-3">ID</th>
                <th class="px-6 py-3">Nombre</th>
                <th class="px-6 py-3">Rol</th>
                <th class="px-6 py-3">Estado</th>
                <th class="px-6 py-3">Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr class="bg-white border-b">
                <td class="px-6 py-4">#001</td>
                <td class="px-6 py-4">Ana López</td>
                <td class="px-6 py-4">Estudiante</td>
                <td class="px-6 py-4"><span class="bg-green-100 text-green-600 px-2 py-1 rounded-lg">Activo</span></td>
                <td class="px-6 py-4 flex gap-2">✏️ 🗑️</td>
              </tr>
              <tr class="bg-gray-50 border-b">
                <td class="px-6 py-4">#002</td>
                <td class="px-6 py-4">Carlos Pérez</td>
                <td class="px-6 py-4">Docente</td>
                <td class="px-6 py-4"><span class="bg-green-100 text-green-600 px-2 py-1 rounded-lg">Activo</span></td>
                <td class="px-6 py-4 flex gap-2">✏️ 🗑️</td>
              </tr>
              <tr class="bg-white border-b">
                <td class="px-6 py-4">#003</td>
                <td class="px-6 py-4">María Gómez</td>
                <td class="px-6 py-4">Estudiante</td>
                <td class="px-6 py-4"><span class="bg-red-100 text-red-600 px-2 py-1 rounded-lg">Inactivo</span></td>
                <td class="px-6 py-4 flex gap-2">✏️ 🗑️</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

  </main>


  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>
  <script>
    // Gráfica ApexCharts
    var options = {
      chart: { type: 'area', height: 160, toolbar: { show: false }, zoom: { enabled: false }},
      series: [{ name: 'Usuarios', data: [10, 41, 35, 51, 49, 62, 69] }],
      dataLabels: { enabled: false },
      stroke: { curve: 'smooth' },
      xaxis: { categories: ["Lun", "Mar", "Mié", "Jue", "Vie", "Sáb", "Dom"] },
      colors: ["#2563eb"],
      fill: { opacity: 0.3 }
    };
    var chart = new ApexCharts(document.querySelector("#area-chart"), options);
    chart.render();

    // Filtro tabla por rol
    function filterTable(rol) {
      let rows = document.querySelectorAll("#tablaUsuarios tbody tr");
      rows.forEach(row => {
        let rolUsuario = row.cells[2].innerText;
        let estado = row.cells[3].innerText;
        if (rol === "todos" || rolUsuario === rol || estado.includes(rol)) {
          row.style.display = "";
        } else {
          row.style.display = "none";
        }
      });
    }
  </script>
</body>
</html>
